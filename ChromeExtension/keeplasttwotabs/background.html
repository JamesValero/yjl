<html>
<head>
<script>
function keep_two() {
  chrome.windows.getAll({populate: true}, function(windows){
    var tab_count = 0;
    for (var i=0; i<windows.length; i++) {
      var w = windows[i];
      tab_count += w.tabs.length;
      };
    if (tab_count == 1) {
      var select_new_created = localStorage["select_new_created"];
      select_new_created = (select_new_created == 1);
      chrome.tabs.create({selected: select_new_created});
      }
    });
  }
keep_two();
chrome.tabs.onRemoved.addListener(function(tabId) {
  keep_two()
  });
</script>
</head>
</html>
<!-- vim: set sw=2 ts=2 et: -->
